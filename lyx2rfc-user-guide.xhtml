<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1 plus MathML 2.0//EN" "file:///home/nico/I-Ds/test/./xhtml-math11-f.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta name="GENERATOR" content="LyX 2.0.0" />
<meta http-equiv="Content-type" content="text/html;charset=UTF-8" />
<title>A User Guide for the 'lyx2rfc' Tool for Editing Internet-Drafts with LyX</title>

<!-- Text Class Preamble -->
<style type="text/css">
div.toc {
margin: 2em 0em;
border-style: solid;
border-width: 2px 0px;
padding: 1em 0em;
}
div.tochead { font-size: x-large; font-weight: bold; }
div.lyxtoc-0 {
margin: 2em 0em 0em 0em;
font-size: xx-large;
font-weight: bold;
}
div.lyxtoc-1 {
margin: 1em 0em 0em 0em;
font-size: x-large;
font-weight: bold;
}
div.lyxtoc-2 {
margin: 0em 0em 0em 1em;
font-size: large;
font-weight: normal;
}
div.lyxtoc-3 { margin: 0em 0em 0em 0.5em; font-size: medium; }
div.lyxtoc-4 { margin: 0em 0em 0em 0.5em; }
div.lyxtoc-5 { margin: 0em 0em 0em 0.5em; }
div.lyxtoc-6 { margin: 0em 0em 0em 0.5em; }
a.tocentry {
text-decoration: none;
color: black;
}
a.tocentry:visited { color: black; }
a.tocarrow {
font-weight: bold;
text-decoration: none;
color: #909090;
}
a.tocarrow:visited { color: #C0C0C0; }
</style>

<!-- Preamble Snippets -->
<style type="text/css">
table { border: 1px solid black; display: inline-block; }
td { border: 1px solid black; padding: 0.5ex; }
</style>

<!-- Layout-provided Styles -->
<style type='text/css'>
h1.title {
font-size: x-large;
margin-bottom: 1ex;
text-align: center;

}
div.standard {
text-align: left;

}
div.plain_layout {
text-align: left;

}
div.author {
font-size: large;
margin-top: 1.3ex;
margin-bottom: 0.7ex;
text-align: center;

}
div.abstract {
font-size: small;
margin-top: 0.7ex;
margin-bottom: 0.7ex;
margin-left: 3ex;
margin-right: 3ex;
text-align: left;

}
div.abstract_label {
font-weight: bold;
font-size: large;
text-align: center;

}

div.abstract {
margin: 4ex;
}
div.abstract_item {
font-size: small;
padding-top: 1ex;
}
div.abstract_label {
font-weight: bold;
}
h2.section {
font-weight: bold;
font-size: x-large;
margin-top: 1.3ex;
margin-bottom: 0.7ex;
text-align: left;

}
h3.subsection {
font-weight: bold;
font-size: large;
margin-top: 0.9ex;
margin-bottom: 0.5ex;
text-align: left;

}
ul.itemize {
margin-top: 0.7ex;
margin-bottom: 0.7ex;
margin-left: 3ex;
text-align: left;

}
div.code {
font-family: monospace;
margin-top: 0.5ex;
margin-bottom: 0.5ex;
margin-left: 3ex;
margin-right: 3ex;
text-align: left;

}
h4.subsubsection {
font-weight: bold;
font-size: medium;
margin-top: 0.7ex;
margin-bottom: 0.4ex;
text-align: left;

}
dl.description dt { font-weight: bold; }
div.flex_docname {
font-family: serif;
font-weight: normal;
font-style: normal;
font-variant: normal;
font-size: medium;
}
div.flex_intendedstatus {
font-family: serif;
font-weight: normal;
font-style: normal;
font-variant: normal;
font-size: medium;
}
div.flex_titleabbrev {
font-family: serif;
font-weight: normal;
font-style: normal;
font-variant: normal;
font-size: medium;
}
div.flex_xml_rfckeyword {
font-family: serif;
font-weight: normal;
font-style: normal;
font-variant: normal;
font-size: medium;
}
div.flex_ipr {
font-family: serif;
font-weight: normal;
font-style: normal;
font-variant: normal;
font-size: medium;
}
div.flex_pi {
font-family: serif;
font-weight: normal;
font-style: normal;
font-variant: normal;
font-size: medium;
}
div.flex_authororg {
font-family: serif;
font-weight: normal;
font-style: normal;
font-variant: normal;
font-size: medium;
}
div.flex_authororgabbrev {
font-family: serif;
font-weight: normal;
font-style: normal;
font-variant: normal;
font-size: medium;
}
div.flex_authorinitials {
font-family: serif;
font-weight: normal;
font-style: normal;
font-variant: normal;
font-size: medium;
}
div.flex_authorsurname {
font-family: serif;
font-weight: normal;
font-style: normal;
font-variant: normal;
font-size: medium;
}
div.flex_authoremailaddr {
font-family: serif;
font-weight: normal;
font-style: normal;
font-variant: normal;
font-size: medium;
}
div.flex_entityxref {
font-family: serif;
font-weight: normal;
font-style: normal;
font-variant: normal;
font-size: medium;
}
div.float {
border: 2px solid black;
text-align: center;
}
div.listings {
font-family: monospace;
}
div.float-caption {
text-align: center;
border: 2px solid black;
padding: 1ex;
margin: 1ex;
}
div.flex_bibxml {
font-family: serif;
font-weight: normal;
font-style: normal;
font-variant: normal;
font-size: medium;
}
</style>
</head>
<body>
<h1 class="title"><a id='magicparlabel-1' />
A User Guide for the 'lyx2rfc' Tool for Editing Internet-Drafts with LyX</h1>
<div class="standard"><a id='magicparlabel-2' />
<div class="flex_docname"><div class="plain_layout"><a id='magicparlabel-6' />
lyx2rfc-user-guide</div>
</div><div class="flex_intendedstatus"><div class="plain_layout"><a id='magicparlabel-10' />
info</div>
</div><div class="flex_titleabbrev"><div class="plain_layout"><a id='magicparlabel-14' />
LyX2RFC User Guide</div>
</div><div class="flex_xml_rfckeyword"><div class="plain_layout"><a id='magicparlabel-18' />
Internet-Draft</div>
</div><div class="flex_ipr"><div class="plain_layout"><a id='magicparlabel-22' />
noDerivatives3978</div>
</div></div>

<div class="standard"><a id='magicparlabel-23' />
<div class="flex_pi"><div class="plain_layout"><a id='magicparlabel-27' />
private="Lyx2RFC UserGuide"</div>
</div><div class="flex_pi"><div class="plain_layout"><a id='magicparlabel-31' />
toc="yes"</div>
</div><div class="flex_pi"><div class="plain_layout"><a id='magicparlabel-35' />
symrefs="yes"</div>
</div><div class="flex_pi"><div class="plain_layout"><a id='magicparlabel-39' />
tocindent="no"</div>
</div><div class="flex_pi"><div class="plain_layout"><a id='magicparlabel-43' />
comments="yes"</div>
</div><div class="flex_pi"><div class="plain_layout"><a id='magicparlabel-47' />
inline="yes"</div>
</div></div>

<div class="author"><div class="author_item"><a id='magicparlabel-48' />
Nicolas Williams <div class="flex_authororg"><div class="plain_layout"><a id='magicparlabel-52' />
Cryptonector LLC</div>
</div><div class="flex_authororgabbrev"><div class="plain_layout"><a id='magicparlabel-56' />
Williams</div>
</div><div class="flex_authorinitials"><div class="plain_layout"><a id='magicparlabel-60' />
N.</div>
</div><div class="flex_authorsurname"><div class="plain_layout"><a id='magicparlabel-64' />
Williams</div>
</div><div class="flex_authoremailaddr"><div class="plain_layout"><a id='magicparlabel-68' />
nico@cryptonector.com</div>
</div></div>
</div>

<div class="abstract"><div class="abstract_label">Abstract</div>
<div class="abstract_item"><a id='magicparlabel-69' />
This is the user guide for lyx2rfc, a program for converting LyX documents into XML in the xml2rfc schema, then formatting to text and HTML via the xml2rfc and related tools. LyX is a graphical What You See Is What You Mean (WYSIWYM) editor.</div>
</div>
<div class="standard"><a id='magicparlabel-70' />
</div>
<div class='toc'><div class='tochead part_'>Table of Contents</div>

<div class='lyxtoc-1'><a href='#magicparlabel-71' class='tocentry'>1 Internet-Drafts and RFCs</a> <a href='#magicparlabel-71' class='tocarrow'>&gt;</a></div>

<div class='lyxtoc-1'><a href='#magicparlabel-80' class='tocentry'>2 Using LyX to Edit Internet-Drafts</a> <a href='#magicparlabel-80' class='tocarrow'>&gt;</a>

<div class='lyxtoc-2'><a href='#magicparlabel-83' class='tocentry'>2.1 Installing LyX, DocBook SGML, Saxon, and lyx2rfc</a> <a href='#magicparlabel-83' class='tocarrow'>&gt;</a>

<div class='lyxtoc-3'><a href='#magicparlabel-103' class='tocentry'>2.1.1 Configure LyX to Know lyx2rfc Conversions</a> <a href='#magicparlabel-103' class='tocarrow'>&gt;</a></div>
</div>

<div class='lyxtoc-2'><a href='#magicparlabel-120' class='tocentry'>2.2 LyX2 Basics</a> <a href='#magicparlabel-120' class='tocarrow'>&gt;</a></div>

<div class='lyxtoc-2'><a href='#magicparlabel-123' class='tocentry'>2.3 Lyx2rfc Basics</a> <a href='#magicparlabel-123' class='tocarrow'>&gt;</a></div>
</div>

<div class='lyxtoc-1'><a href='#magicparlabel-125' class='tocentry'>3 Front Matter</a> <a href='#magicparlabel-125' class='tocarrow'>&gt;</a>

<div class='lyxtoc-2'><a href='#magicparlabel-137' class='tocentry'>3.1 Processing Instructions</a> <a href='#magicparlabel-137' class='tocarrow'>&gt;</a></div>

<div class='lyxtoc-2'><a href='#magicparlabel-148' class='tocentry'>3.2 Author Information</a> <a href='#magicparlabel-148' class='tocarrow'>&gt;</a></div>

<div class='lyxtoc-2'><a href='#magicparlabel-161' class='tocentry'>3.3 Abstract</a> <a href='#magicparlabel-161' class='tocarrow'>&gt;</a></div>
</div>

<div class='lyxtoc-1'><a href='#magicparlabel-163' class='tocentry'>4 Middle Matter</a> <a href='#magicparlabel-163' class='tocarrow'>&gt;</a>

<div class='lyxtoc-2'><a href='#magicparlabel-165' class='tocentry'>4.1 Subsections</a> <a href='#magicparlabel-165' class='tocarrow'>&gt;</a>

<div class='lyxtoc-3'><a href='#magicparlabel-168' class='tocentry'>4.1.1 Sub-subsections</a> <a href='#magicparlabel-168' class='tocarrow'>&gt;</a></div>
</div>

<div class='lyxtoc-2'><a href='#magicparlabel-171' class='tocentry'>4.2 Paragraphs</a> <a href='#magicparlabel-171' class='tocarrow'>&gt;</a></div>

<div class='lyxtoc-2'><a href='#magicparlabel-173' class='tocentry'>4.3 Lists</a> <a href='#magicparlabel-173' class='tocarrow'>&gt;</a></div>

<div class='lyxtoc-2'><a href='#magicparlabel-183' class='tocentry'>4.4 Figures</a> <a href='#magicparlabel-183' class='tocarrow'>&gt;</a></div>

<div class='lyxtoc-2'><a href='#magicparlabel-202' class='tocentry'>4.5 Tables</a> <a href='#magicparlabel-202' class='tocarrow'>&gt;</a></div>

<div class='lyxtoc-2'><a href='#magicparlabel-245' class='tocentry'>4.6 Cross-References Intra-Document</a> <a href='#magicparlabel-245' class='tocarrow'>&gt;</a></div>

<div class='lyxtoc-2'><a href='#magicparlabel-251' class='tocentry'>4.7 Citations</a> <a href='#magicparlabel-251' class='tocarrow'>&gt;</a></div>
</div>

<div class='lyxtoc-1'><a href='#magicparlabel-253' class='tocentry'>5 Back Matter</a> <a href='#magicparlabel-253' class='tocarrow'>&gt;</a>

<div class='lyxtoc-2'><a href='#magicparlabel-259' class='tocentry'>5.1 References Sections</a> <a href='#magicparlabel-259' class='tocarrow'>&gt;</a></div>

<div class='lyxtoc-2'><a href='#magicparlabel-261' class='tocentry'>5.2 Adding 'bibxml'</a> <a href='#magicparlabel-261' class='tocarrow'>&gt;</a>

<div class='lyxtoc-3'><a href='#magicparlabel-264' class='tocentry'>5.2.1 Citations</a> <a href='#magicparlabel-264' class='tocarrow'>&gt;</a></div>
</div>

<div class='lyxtoc-2'><a href='#magicparlabel-266' class='tocentry'>5.3 Appendices</a> <a href='#magicparlabel-266' class='tocarrow'>&gt;</a></div>
</div>

<div class='lyxtoc-1'><a href='#magicparlabel-268' class='tocentry'>6 Oddities and Bugs</a> <a href='#magicparlabel-268' class='tocarrow'>&gt;</a></div>

<div class='lyxtoc-1'><a href='#magicparlabel-271' class='tocentry'>7 Running the lyx2rfc Tool</a> <a href='#magicparlabel-271' class='tocarrow'>&gt;</a></div>

<div class='lyxtoc-1'><a href='#magicparlabel-273' class='tocentry'>8 References</a> <a href='#magicparlabel-273' class='tocarrow'>&gt;</a></div>

<div class='lyxtoc-1'><a href='#magicparlabel-279' class='tocentry'>A Lyx2RFC Internals</a> <a href='#magicparlabel-279' class='tocarrow'>&gt;</a></div>
</div>

<h2 class="section"><span class="section_label">1</span> <a id='magicparlabel-71' />
<a id="sec_Internet_Drafts_and_RFCs" />
Internet-Drafts and RFCs</h2>
<div class="standard"><a id='magicparlabel-72' />
Internet Requests For Comment (RFCs) are published by the RFC-Editor, typically on behalf of the Internet Engineering Task Force (IETF). The process involves a phase during which the RFC-to-be document is called an &ldquo;Internet-Draft&rdquo;.</div>

<div class="standard"><a id='magicparlabel-73' />
Historically Internet-Drafts and RFCs have been kept as nroff documents and typeset with the nroff tool. In recent years nroff has been mostly replaced by a tool named xml2rfc <a href="http://xml.resource.org/">(link)</a> that uses XML to represent the source to an Internet-Draft or RFC. See the guide to xml2rfc<a href="http://xml.resource.org/authoring/draft-mrose-writing-rfcs.html">(draft-mrose-writing-rfcs)</a>; see also <div class="flex_entityxref"><div class="plain_layout"><a id='magicparlabel-77' />
RFC2629</div>
</div>.</div>

<div class="standard"><a id='magicparlabel-78' />
XML is a great step forward in user-friendliness &ndash; from nroff anyways. But XML is not really user-friendly unless used with XML editors. The lyx2rfc tool is intended to allow the use of LyX, a WYSIWYM graphical editor, for editing Internet-Drafts and RFCs.</div>

<div class="standard"><a id='magicparlabel-79' />
This document itself, although it is not an Internet-Draft, much less an RFC, is written in LyX and rendered as text and HTML using lyx2rfc.</div>
<h2 class="section"><span class="section_label">2</span> <a id='magicparlabel-80' />
<a id="sec_Using_LyX_to" />
Using LyX to Edit Internet-Drafts</h2>
<div class="standard"><a id='magicparlabel-81' />
In order to represent I-D/RFC metadata that LyX does not provide for, we use &ldquo;custom insets&rdquo;. There are multiple custom insets, each for various purposes.</div>

<div class="standard"><a id='magicparlabel-82' />
The first step to using LyX to edit an Internet-Draft is to start LyX and then use Document-&gt;Settings-&gt;Local Layout to add the &ldquo;custom insets&rdquo; that lyx2rfc requires: just paste them in, click on Validate, then OK. Alternatively start by copying the 'test-i-d.lyx' sample Internet-Draft. Remember to use View-&gt;Open All Insets to ensure that the inset label (the type of inset) is displayed.</div>
<h3 class="subsection"><span class="subsection_label">2.1</span> <a id='magicparlabel-83' />
Installing LyX, DocBook SGML, Saxon, and lyx2rfc</h3>
<div class="standard"><a id='magicparlabel-84' />
Install LyX and DocBook SGML pacakages. For example, on Ubuntu and most Linux systems you can install these packages:</div>

<ul class="itemize"><li class="itemize_item"><a id='magicparlabel-85' />
elyxer</li>
<li class="itemize_item"><a id='magicparlabel-86' />
lyx</li>
<li class="itemize_item"><a id='magicparlabel-87' />
lyx-common</li>
<li class="itemize_item"><a id='magicparlabel-88' />
ttf-lyx</li>
<li class="itemize_item"><a id='magicparlabel-89' />
docbook</li>
<li class="itemize_item"><a id='magicparlabel-90' />
docbook-dsssl</li>
<li class="itemize_item"><a id='magicparlabel-91' />
docbook-utils</li>
<li class="itemize_item"><a id='magicparlabel-92' />
docbook-xml</li>
<li class="itemize_item"><a id='magicparlabel-93' />
docbook-xsl</li>
<li class="itemize_item"><a id='magicparlabel-94' />
libsaxon-java</li>
<li class="itemize_item"><a id='magicparlabel-95' />
libsaxon-java-doc</li>
<li class="itemize_item"><a id='magicparlabel-96' />
libsaxonb-java</li>
<li class="itemize_item"><a id='magicparlabel-97' />
libsaxonb-java-doc</li>
</ul>
<div class="standard"><a id='magicparlabel-98' />
The lyx2rfc software is currently available via git, soon to be packaged:</div>

<div class="code"><div class="code_item"><a id='magicparlabel-99' />
git clone https://github.com/nicowilliams/lyx2rfc</div>
<div class="code_item"><a id='magicparlabel-100' />
cd lyx2rfc</div>
<div class="code_item"><a id='magicparlabel-101' />
&lt;install into a bin directory in $PATH or modify $PATH to find lyx2rfc here&gt;</div>
</div>
<div class="standard"><a id='magicparlabel-102' />
Start LyX, Tools-&gt;Reconfigure (so LyX can find DocBook SGML software).</div>
<h4 class="subsubsection"><span class="subsubsection_label">2.1.1</span> <a id='magicparlabel-103' />
Configure LyX to Know lyx2rfc Conversions</h4>
<div class="standard"><a id='magicparlabel-104' />
Add the following to ~/.lyx/preferences:</div>

<div class="code"><div class="code_item"><a id='magicparlabel-105' />
#</div>
<div class="code_item"><a id='magicparlabel-106' />
# FORMATS SECTION ##########################</div>
<div class="code_item"><a id='magicparlabel-107' />
#</div>
<div class="code_item"><a id='magicparlabel-108' />
\format "rfchtml" "html" "RFC (HTML)" "" "firefox" "gvim" "document,menu=export"</div>
<div class="code_item"><a id='magicparlabel-109' />
\format "rfctxt" "txt" "RFC (txt)" "" "" "gvim" "document,menu=export"</div>
<div class="code_item"><a id='magicparlabel-110' />
\format "rfcunpg" "unpg" "RFC (unpg txt)" "" "" "gvim" "document,menu=export"</div>
<div class="code_item"><a id='magicparlabel-111' />
\format "xml2rfc" "xml" "RFC (XML)" "" "" "gvim" "document,menu=export"</div>
<div class="code_item"><a id='magicparlabel-112' />
#</div>
<div class="code_item"><a id='magicparlabel-113' />
# CONVERTERS SECTION ##########################</div>
<div class="code_item"><a id='magicparlabel-114' />
#</div>
<div class="code_item"><a id='magicparlabel-115' />
\converter "xml2rfc" "rfchtml" "lyx2rfc $$p/$$i $$r/$$o" ""</div>
<div class="code_item"><a id='magicparlabel-116' />
\converter "lyx" "xml2rfc" "lyx2rfc $$p/$$i $$r/$$o" ""</div>
<div class="code_item"><a id='magicparlabel-117' />
\converter "xml2rfc" "rfctxt" "xml2rfc $$p/$$i $$r/$$o" ""</div>
<div class="code_item"><a id='magicparlabel-118' />
\converter "xml2rfc" "rfcunpg" "xml2rfc $$p/$$i $$r/$$o" ""</div>
</div>
<div class="standard"><a id='magicparlabel-119' />
Restart LyX. You should now have additional export formats in File-&gt;Export... for various RFC formats.</div>
<h3 class="subsection"><span class="subsection_label">2.2</span> <a id='magicparlabel-120' />
<a id="sub_LyX_Basics" />
LyX2 Basics</h3>
<div class="standard"><a id='magicparlabel-121' />
In the upper left hand corner of the LyX window there is a drop-down box for 'style' of text. 'Standard' here means 'paragraph'. Other styles include 'Title', 'Abstract', 'Section', etcetera. These correspond roughly to xml2rfc XML elements like 't', 'title', 'abstract', and 'section', but without any notion of elements containing elements.</div>

<div class="standard"><a id='magicparlabel-122' />
For the rest, LyX is very similar to many WYSIWYG graphical editors.</div>
<h3 class="subsection"><span class="subsection_label">2.3</span> <a id='magicparlabel-123' />
<a id="sub_Lyx2rfc_Basics" />
Lyx2rfc Basics</h3>
<div class="standard"><a id='magicparlabel-124' />
While most xml2rfc input document elements can be mapped from existing LyX elements trivially, some xml2rfc elements have no LyX equivalents. To support these elements there are &ldquo;custom insets&rdquo; that are added via Document-&gt;Settings-&gt;Local Layout. To set XML Processing Instructions (&ldquo;PIs&rdquo;) simply write &lt;pi&gt;=&lt;value&gt;, use the mouse to select that text, then Insert-&gt;Custom Insets-&gt;PI. Several custom insets are provided as LyX equivalents of various xml2rfc elements not found natively in LyX.</div>
<h2 class="section"><span class="section_label">3</span> <a id='magicparlabel-125' />
<a id="sec_Front_Matter" />
Front Matter</h2>
<div class="standard"><a id='magicparlabel-126' />
All the front matter should be in the first page, although lyx2rfc does not actually require this.</div>

<div class="standard"><a id='magicparlabel-127' />
The first line of the document should be set to the style of 'Title', then add a line below as 'Standard' where a number of custom insets will be added. A number of custom insets are REQUIRED:</div>

<dl class='description'><dt class="description_label">DocName</dt>
<dd class="description_item"><a id='magicparlabel-128' />
 This corresponds to the Internet-Draft &ldquo;handle&rdquo; (e.g., draft-ietf-somewg-foobar-00).</dd>
<dt class="description_label">TitleAbbrev</dt>
<dd class="description_item"><a id='magicparlabel-129' />
 This is the abbreviation of the document title that is to appear at the bottom of every page (when formatted as text).</dd>
</dl>
<div class="standard"><a id='magicparlabel-130' />
Other custom insets related to the document itself:</div>

<dl class='description'><dt class="description_label">IPR</dt>
<dd class="description_item"><a id='magicparlabel-131' />
 This is the value of the 'ipr' attribute of the 'rfc' element (e.g., full3978).</dd>
<dt class="description_label">IETFArea</dt>
<dd class="description_item"><a id='magicparlabel-132' />
 The IETF area that this document is specific to (e.g., &ldquo;Applications&rdquo;).</dd>
<dt class="description_label">IETFWorkingGroup</dt>
<dd class="description_item"><a id='magicparlabel-133' />
 The IETF Working Group (WG) that this document is specific to (e.g., &ldquo;TLS&rdquo;).</dd>
<dt class="description_label">IntendedStatus</dt>
<dd class="description_item"><a id='magicparlabel-134' />
 The intended status for the RFC that would be published from the Internet-Draft, if it progresses that far (e.g., &ldquo;Informational&rdquo;).</dd>
<dt class="description_label">RFCNumber</dt>
<dd class="description_item"><a id='magicparlabel-135' />
 RFC number.</dd>
<dt class="description_label">XML2RFCKeyword</dt>
<dd class="description_item"><a id='magicparlabel-136' />
 Keyword element.</dd>
</dl>
<h3 class="subsection"><span class="subsection_label">3.1</span> <a id='magicparlabel-137' />
Processing Instructions</h3>
<div class="standard"><a id='magicparlabel-138' />
The following custom insets can be used to specify xml2rfc processing instructions (PIs):</div>

<dl class='description'><dt class="description_label">PI</dt>
<dd class="description_item"><a id='magicparlabel-139' />
 Formatting directive for xml2rfc. The text in this inset should be &lt;directive&gt;="&lt;value&gt;". This inset can be used to specify arbitrary PIs.</dd>
<dt class="description_label">PI_SortRefs</dt>
<dd class="description_item"><a id='magicparlabel-140' />
 Sort references.</dd>
<dt class="description_label">PI_Strict</dt>
<dd class="description_item"><a id='magicparlabel-141' />
 Strict PI.</dd>
<dt class="description_label">PI_SymRefs</dt>
<dd class="description_item"><a id='magicparlabel-142' />
 Use symbolic references.</dd>
<dt class="description_label">PI_TOC</dt>
<dd class="description_item"><a id='magicparlabel-143' />
 Generate a table of contents.</dd>
<dt class="description_label">PI_TOCAppendix</dt>
<dd class="description_item"><a id='magicparlabel-144' />
 Include appendici in the TOC.</dd>
<dt class="description_label">PI_TOCCompact</dt>
<dd class="description_item"><a id='magicparlabel-145' />
 Generate compact TOCs.</dd>
<dt class="description_label">PI_TOCDepth</dt>
<dd class="description_item"><a id='magicparlabel-146' />
 Max depth of sub-sections in TOC.</dd>
<dt class="description_label">PI_TOCIndent</dt>
<dd class="description_item"><a id='magicparlabel-147' />
 Indent TOC.</dd>
</dl>
<h3 class="subsection"><span class="subsection_label">3.2</span> <a id='magicparlabel-148' />
<a id="sub_Author_Metadata" />
Author Information</h3>
<div class="standard"><a id='magicparlabel-149' />
For each author start a line with Author style, write the author's name, then Insert-&gt;Custom Insets to insert the following custome insets:</div>

<dl class='description'><dt class="description_label">AuthorAddrCity</dt>
<dd class="description_item"><a id='magicparlabel-150' />
 City portion of postal address.</dd>
<dt class="description_label">AuthorAddrCode</dt>
<dd class="description_item"><a id='magicparlabel-151' />
 Postal code portion of postal address.</dd>
<dt class="description_label">AuthorAddrCountry</dt>
<dd class="description_item"><a id='magicparlabel-152' />
 Country name portion of postal address.</dd>
<dt class="description_label">AuthorAddrRegion</dt>
<dd class="description_item"><a id='magicparlabel-153' />
 State/province portion of postal address.</dd>
<dt class="description_label">AuthorAddrStreet</dt>
<dd class="description_item"><a id='magicparlabel-154' />
 Street portion of postal address.</dd>
<dt class="description_label">AuthorEmailAddr</dt>
<dd class="description_item"><a id='magicparlabel-155' />
 E-mail address.</dd>
<dt class="description_label">AuthorInitials</dt>
<dd class="description_item"><a id='magicparlabel-156' />
 Author initials.</dd>
<dt class="description_label">AuthorOrg</dt>
<dd class="description_item"><a id='magicparlabel-157' />
 Name of author's organization.</dd>
<dt class="description_label">AuthorOrgAbbrev</dt>
<dd class="description_item"><a id='magicparlabel-158' />
 Abbreviation of author's organization name.</dd>
<dt class="description_label">AuthorRole</dt>
<dd class="description_item"><a id='magicparlabel-159' />
 Role of author (&ldquo;author&rdquo; or &ldquo;editor&rdquo;).</dd>
<dt class="description_label">AuthorSurname</dt>
<dd class="description_item"><a id='magicparlabel-160' />
 Surname.</dd>
</dl>
<h3 class="subsection"><span class="subsection_label">3.3</span> <a id='magicparlabel-161' />
<a id="sub_Abstract" />
Abstract</h3>
<div class="standard"><a id='magicparlabel-162' />
Open a line below the last author line and style it 'Abstract'. Write your abstract. Use the enter key to start another abstract paragraph.</div>
<h2 class="section"><span class="section_label">4</span> <a id='magicparlabel-163' />
<a id="sec_Middle_Matter" />
Middle Matter</h2>
<div class="standard"><a id='magicparlabel-164' />
The meat of an Internet-Draft is organized into sections. Each section, sub-section, and sub-sub-section has a title. Open a line, style it 'Section', and write in the section title, then enter to start the contents of the section in 'Standard' (paragraph) style.</div>
<h3 class="subsection"><span class="subsection_label">4.1</span> <a id='magicparlabel-165' />
Subsections</h3>
<div class="standard"><a id='magicparlabel-166' />
Open a line and set the style to &ldquo;Subsection&rdquo;.</div>

<div class="standard"><a id='magicparlabel-167' />
NOTE: LyX allows subsections of no section: these are treated as subsections of section 0. lyx2rfc will ignore such subsections!</div>
<h4 class="subsubsection"><span class="subsubsection_label">4.1.1</span> <a id='magicparlabel-168' />
Sub-subsections</h4>
<div class="standard"><a id='magicparlabel-169' />
Open a line and set the style to &ldquo;SunSubsection&rdquo;.</div>

<div class="standard"><a id='magicparlabel-170' />
NOTE: LyX allows sub-subsections of no subsection: these are treated as sub-subsections of subsection 0. lyx2rfc will ignore such sub-subsections!</div>
<h3 class="subsection"><span class="subsection_label">4.2</span> <a id='magicparlabel-171' />
<a id="sub_Paragraphs" />
Paragraphs</h3>
<div class="standard"><a id='magicparlabel-172' />
You've seen paragraphs: they're just text in 'Standard' style.</div>
<h3 class="subsection"><span class="subsection_label">4.3</span> <a id='magicparlabel-173' />
<a id="sub_Lists" />
Lists</h3>
<div class="standard"><a id='magicparlabel-174' />
LyX supports all the sorts of lists that xml2rfc supports:</div>

<ul class="itemize"><li class="itemize_item"><a id='magicparlabel-175' />
numbered;</li>
<li class="itemize_item"><a id='magicparlabel-176' />
bulleted;</li>
<li class="itemize_item"><a id='magicparlabel-177' />
description lists;</li>
<li class="itemize_item"><a id='magicparlabel-178' />
nested lists.</li>
</ul>
<div class="standard"><a id='magicparlabel-179' />
The lyx2rfc tool supports all of these.</div>

<div class="standard"><a id='magicparlabel-180' />
Simply use in the obvious way.</div>

<div class="standard"><a id='magicparlabel-181' />
Tip: use non-breaking spaces (Ctrl-Space) to embed spaces in the title of a description list entry, like so:</div>

<dl class='description'><dt class="description_label">Description&nbsp;list</dt>
<dd class="description_item"><a id='magicparlabel-182' />
 A list where each list item has a title.</dd>
</dl>
<h3 class="subsection"><span class="subsection_label">4.4</span> <a id='magicparlabel-183' />
<a id="sub_Figures" />
Figures</h3>
<div class="standard"><a id='magicparlabel-184' />
Insert-&gt;Float-&gt;Figure, then left arrow, then Insert-&gt;Program Listing, then write/paste ASCII figure text. Don't forget to set the figure title.</div>

<div class="standard"><a id='magicparlabel-185' />
NOTE: Every otherwise empty line of a program listing (used to hold the artwork) <em>must</em> have at least one space in it, otherwise the LyX export to XHTML function will fail.</div>

<div class="standard"><a id='magicparlabel-186' />
For example:</div>

<div class="standard"><a id='magicparlabel-187' />
</div>
<div class='float float-figure'><div class="plain_layout"><a id='magicparlabel-191' />
<div class='float-caption float-caption-figure'>Figure 1:<div class="plain_layout"><a id='magicparlabel-201' />
Example figure</div>
</div></div>
<div class='float float-listings'><pre>+=======+
| a box |
+=======+</pre></div>

</div>

<h3 class="subsection"><span class="subsection_label">4.5</span> <a id='magicparlabel-202' />
<a id="sub_Tables" />
Tables</h3>
<div class="standard"><a id='magicparlabel-203' />
Click on the insert table icon in the toolbar and select the table form (NxM). You may want to enable the table toolbar as well.</div>

<div class="standard"><a id='magicparlabel-204' />
For example:</div>

<div class="standard"><a id='magicparlabel-205' />



<table><tbody><tr><td align='center' valign='top'><div class="plain_layout"><a id='magicparlabel-229' />
A</div>
</td>

<td align='center' valign='top'><div class="plain_layout"><a id='magicparlabel-232' />
2x2</div>
</td>

<td align='center' valign='top'><div class="plain_layout"><a id='magicparlabel-235' />
table</div>
</td>
</tr>
<tr><td align='center' valign='top'><div class="plain_layout"><a id='magicparlabel-238' />
...</div>
</td>

<td align='center' valign='top'><div class="plain_layout"><a id='magicparlabel-241' />
...</div>
</td>

<td align='center' valign='top'><div class="plain_layout"><a id='magicparlabel-244' />
...</div>
</td>
</tr></tbody>
</table>
</div>
<h3 class="subsection"><span class="subsection_label">4.6</span> <a id='magicparlabel-245' />
<a id="sub_Intra_Document_Cross_References" />
Cross-References Intra-Document</h3>
<div class="standard"><a id='magicparlabel-246' />
Use Insert-&gt;Label... to insert a label at strategic places, such as:</div>

<ul class="itemize"><li class="itemize_item"><a id='magicparlabel-247' />
in section titles</li>
<li class="itemize_item"><a id='magicparlabel-248' />
in figure titles</li>
<li class="itemize_item"><a id='magicparlabel-249' />
etcetera.</li>
</ul>
<div class="standard"><a id='magicparlabel-250' />
To reference a label use Insert-&gt;Cross-Reference...</div>
<h3 class="subsection"><span class="subsection_label">4.7</span> <a id='magicparlabel-251' />
<a id="sub_Citations" />
Citations</h3>
<div class="standard"><a id='magicparlabel-252' />
To reference an RFC or Internet-Draft, or any bibxml item use the EntityXRef custom inset (Insert-&gt;Custom Insets-&gt;EntityXRef) and set the contents of the inset to be the anchor of the bibxml reference (the name that would have to be used as the 'target' attribute value in an xml2rfc 'xref' element). See <a href="#sub_Adding__bibxml__References">5.2</a> for how to add references sections.</div>
<h2 class="section"><span class="section_label">5</span> <a id='magicparlabel-253' />
<a id="sec_Back_Matter" />
Back Matter</h2>
<div class="standard"><a id='magicparlabel-254' />
Back matter consists of:</div>

<ul class="itemize"><li class="itemize_item"><a id='magicparlabel-255' />
Author contact information, which is derived automatically from the author metadata custom insets as described in <a href="#sub_Author_Metadata">3.2</a>;</li>
<li class="itemize_item"><a id='magicparlabel-256' />
Acknowledgements (not yet supported as back matter by lyx2rfc);</li>
<li class="itemize_item"><a id='magicparlabel-257' />
References sections;</li>
<li class="itemize_item"><a id='magicparlabel-258' />
Appendices.</li>
</ul>
<h3 class="subsection"><span class="subsection_label">5.1</span> <a id='magicparlabel-259' />
<a id="sub_References_Sections" />
References Sections</h3>
<div class="standard"><a id='magicparlabel-260' />
To add a references section simply create a section titled &ldquo;References&rdquo;, &ldquo;Normative References&rdquo;, or &ldquo;Informative References&rdquo;. These must be top-level sections, but they will be put into sub-sections correctly.</div>
<h3 class="subsection"><span class="subsection_label">5.2</span> <a id='magicparlabel-261' />
<a id="sub_Adding__bibxml__References" />
Adding 'bibxml'</h3>
<div class="standard"><a id='magicparlabel-262' />
xml2rfc can only handle references defined in its own particular schema. LyX's bibliography library support cannot trivially be mapped to/from the xml2rfc 'bibxml' library. Therefore lyx2rfc handles this by using LyX hyperlinks.</div>

<div class="standard"><a id='magicparlabel-263' />
To add bibxml references just start a paragraph in a references section and then Insert-&gt;Hyperlink, setting the link target to the URL of a bibxml reference and the link text to any text that is suitable for use as the name of an XML entity. E.g., to add a reference to some RFC use 'rfcXXXX' as the link text and http://xml.resource.org/public/rfc/bibxml/reference.RFC.XXX.xml as the link target.</div>
<h4 class="subsubsection"><span class="subsubsection_label">5.2.1</span> <a id='magicparlabel-264' />
Citations</h4>
<div class="standard"><a id='magicparlabel-265' />
See <a href="#sub_Citations">4.7</a>.</div>
<h3 class="subsection"><span class="subsection_label">5.3</span> <a id='magicparlabel-266' />
<a id="sub_Appendices" />
Appendices</h3>
<div class="standard"><a id='magicparlabel-267' />
To add an appendix scroll to the end of your document, hit enter, then Document-&gt;Start Appendix Here, then select the style 'Section' to set the appendix title.</div>
<h2 class="section"><span class="section_label">6</span> <a id='magicparlabel-268' />
Oddities and Bugs</h2>
<div class="standard"><a id='magicparlabel-269' />
Sections that are not references sections <em>must not</em> section titles that end in &ldquo;References&rdquo;, while sections that are references sections <em>must</em>.</div>

<div class="standard"><a id='magicparlabel-270' />
On the other hand, while xml2rfc cannot nest references sections, lyx2rfc does allow nesting of references sections in LyX, though it flattens them out in the translation to XML.</div>
<h2 class="section"><span class="section_label">7</span> <a id='magicparlabel-271' />
<a id="sec_Running_the_lyx2rfc" />
Running the lyx2rfc Tool</h2>
<div class="standard"><a id='magicparlabel-272' />
The lyx2rfc tool is a simple shell script that uses lyx(1) to export your LyX document as LyXHTML, then runs the Saxon XSLT processor to convert the document from the LyXHTML schema to the xml2rfc XML schema, then it applies xml2rfc and XSLT again to render as text and HTML.</div>
<h2 class="section"><span class="section_label">8</span> <a id='magicparlabel-273' />
<a id="sec_References" />
References</h2>
<div class="standard"><a id='magicparlabel-274' />
<div class="flex_bibxml"><div class="plain_layout"><a id='magicparlabel-278' />
<a href="http://xml.resource.org/public/rfc/bibxml/reference.RFC.2629.xml">rfc2629</a></div>
</div></div>
<h2 class="section"><span class="section_label">A</span> <a id='magicparlabel-279' />
Lyx2RFC Internals</h2>
<div class="standard"><a id='magicparlabel-280' />
lyx2rfc begins by invoking LyX to export the document into LyXHTML format. Then lyx2rfc applies an XSL sheel with the Saxon XSLT 2.0 processor to convert the LyXHTML intermediate form to XML in xml2rfc's schema. lyx2rfc then applies xml2rfc to obtain .txt and .unpg (unpaginated .txt) output. Finally, lyx2rfc applies Saxon with the Greenbytes XSL for converting xml2rfc documents to HTML.</div>
</body>
</html>
